CREATE DATABASE IF NOT EXISTS dairy;
USE dairy;

-- Farmers table
CREATE TABLE IF NOT EXISTS farmers (
    farmer_id VARCHAR(20) PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    village VARCHAR(100),
    phone VARCHAR(15)
);

-- Milk records table
CREATE TABLE IF NOT EXISTS milk_records (
    id INT AUTO_INCREMENT PRIMARY KEY,
    farmer_id VARCHAR(20),
    date DATE,
    quantity FLOAT,
    fat FLOAT,
    amount FLOAT,
    FOREIGN KEY (farmer_id) REFERENCES farmers(farmer_id)
);

-- Users table (for customers)
CREATE TABLE IF NOT EXISTS users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100),
    email VARCHAR(100) UNIQUE,
    phone VARCHAR(15),
    address TEXT,
    password VARCHAR(100),
    role VARCHAR(20)
);

-- Orders table (for customers)
CREATE TABLE IF NOT EXISTS orders (
    id INT AUTO_INCREMENT PRIMARY KEY,
    customer_id INT,
    order_date DATETIME,
    total_amount FLOAT,
    status VARCHAR(50),
    payment_status VARCHAR(50),
    FOREIGN KEY (customer_id) REFERENCES users(id)
);
